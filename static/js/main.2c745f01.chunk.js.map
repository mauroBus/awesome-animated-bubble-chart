{"version":3,"sources":["pages/bubble-chart/tabs/index.css","shared/error-boundary/index.css","pages/bubble-chart/bouncing-bubble-chart/bubble-drawer.css","app.css","pages/bubble-chart/bouncing-bubble-chart/index.css","pages/bubble-chart/toggle/index.css","pages/bubble-chart/page.css","shared/error-boundary/index.tsx","pages/bubble-chart/_actionTypes.ts","pages/bubble-chart/_reducer.ts","redux/reducers/index.ts","redux/middlewares/fetch.types.ts","redux/middlewares/fetch.ts","pages/bubble-chart/_actions.ts","utils/fetch/fetch-cache.ts","utils/json-tools/index.ts","utils/fetch/util.tsx","utils/fetch/fetch-factory.ts","utils/fetch/index.ts","store.ts","format.ts","utils/timing-functions/index.ts","pages/bubble-chart/bouncing-bubble-chart/nodes.ts","pages/bubble-chart/bouncing-bubble-chart/bubble-drawer.tsx","pages/bubble-chart/bouncing-bubble-chart/index.tsx","pages/bubble-chart/tabs/index.tsx","pages/bubble-chart/toggle/index.tsx","pages/bubble-chart/page.tsx","pages/bubble-chart/index.tsx","app.tsx","index.tsx"],"names":["ErrorBoundary","hasError","error","errorInfo","console","state","classnames","styles","errorBoundary","props","className","centered","title","t","subTitle","children","PureComponent","BUBBLES_FETCH_START","BUBBLES_FETCH_SUCCESS","BUBBLES_FETCH_FAILURE","SELECT_TYPE","SELECT_BUBBLE","initialState","bubbles","selectedBubble","selectedType","statusses","fetch","action","type","payload","elements","combineReducers","BubbleChartReducer","FETCH_START","FETCH_CANCEL","FETCH_SUCCESS","FETCH_FAILURE","fromStartTo","targetSuffix","actionType","prefix","slice","length","asSuccessAction","asFailureAction","fetchMiddleware","facade","store","next","endsWith","cancelRequest","promise","createRequest","then","data","dispatch","initiator","catch","axios","isCancel","response","request","types","method","url","selectBubble","selectType","requests","Map","generateRequestId","key","id","baseId","Math","random","toString","getRequest","get","addRequest","value","set","deleteRequest","delete","clearCache","clear","camel","replace","_","toUpperCase","snake","alpha","toLowerCase","ISO_DATE_ONLY","ISO_DATE","IS_CAPS","replacer","Array","isArray","Object","keys","reduce","object","newKey","test","reviver","split","map","Number","year","month","day","Date","addContentTypeHeader","params","body","contentType","createResponseTransformer","headers","startsWith","JSON","parse","handleRequestErrors","responseStatus","status","Error","requestTransformer","FormData","Blob","stringify","defaultTransformers","transformers","axiosInstance","initialize","newInstance","create","defaults","transformRequest","interceptors","use","undefined","requestConfig","source","CancelToken","cancelToken","token","transformResponse","cancel","suppressCancelErrors","requestParams","newRequest","createFetchRequest","result","fetchApi","bindActions","bindActionCreators","todosActions","createStore","rootReducer","applyMiddleware","actions","formatConfig","missingTranslation","formats","date","dd","MMM","MMMM","yyyy","EEEE","weekday","time","H","hour","minute","initFormatMessage","setup","ease","cubicBezier","easeIn","easeInOut","easeOut","spring","interpolate","from","to","MIN_RADIUS","generateNodes","scale","height","width","centerY","nodes","bubble","count","low","medium","high","name","highR","max","mediumR","lowR","push","bubbleId","initialRadius","mastery","r","skillId","x","y","bubbleClassByType","highBubble","mediumBubble","lowBubble","BubbleDrawer","attr","d","onBubbleClick","onBubbleHover","svg","selectAll","onBubbleFocus","event","KeyboardEvent","handleClick","preventDefault","shiftKey","onTabPressed","node","select","nextBubble","nextElementSibling","getAttribute","SVGElement","focus","each","min","remove","simulation","enter","append","bubbleName","on","handleMouseOver","handleFocus","handleKeyPress","exit","handleTick","BouncingBubbleChart","center","forceSimulation","bubbleDrawer","draw","joinBubblesByType","joinBubbles","pow","target","outsidePosX","forceStrength","targetY","highlightType","alphaDecay","alphaTarget","alphaMin","velocityDecay","force","forceCenter","forceManyBody","strength","defaultCharge","forceX","forceY","restart","groups","getMasteryGroups","offset","weakCharge","groupsTarget","forceCollide","radius","handleMouseLeave","tooltipForBubbleId","tooltipForType","renderSimulation","prevProps","setTabbableBubbles","stop","selectedId","chart","setSVGRef","BubbleChartTabs","onChange","activeTab","tabs","list","tab","handleSelectAll","handleSelectLow","handleSelectMedium","handleSelectHigh","BubbleToggle","expandedView","bubbleChart","onExpand","setState","splitBubbles","onContract","toggle","handleCollapseView","handleExpandedView","Component","CHART_HEIGHT","Page","bubbleChartRef","ref","bubbleType","find","handleBubbleClick","lowArea","mediumArea","highArea","PI","maxRadius","sqrt","getScale","handleTypeChange","bubbleChartContainer","handleSingleBubbleHover","setBubbleChartRef","mapStateToProps","fetchStatus","mapDispatchToProps","BubbleChart","isLoading","BubbleChartPage","connect","App","app","initApp","root","document","getElementById","render"],"mappings":"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","file":"static/js/main.2c745f01.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"_15h6D\",\"tab\":\"_5ii9Y\",\"list\":\"_2c8z2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBoundary\":\"_21AM7\",\"centered\":\"rhZ-r\",\"title\":\"_3qjsK\",\"subTitle\":\"_3MDas\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bubble\":\"_1123L\",\"lowBubble\":\"aInUt _1123L\",\"mediumBubble\":\"_2GtCD _1123L\",\"highBubble\":\"_3REIl _1123L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"_2x3cr\",\"title\":\"_1kFDE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"_1GVXF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggle\":\"_1m76T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bubbleChartContainer\":\"_1rbpR\"};","import React, { PureComponent } from 'react'\nimport classnames from 'classnames'\nimport t from 'format-message'\nimport styles from './index.css'\n\ntype ErrorBoundaryInfo = {\n  componentStack: string\n}\n\ntype Props = {\n  className?: string\n}\ntype State = {\n  hasError: boolean\n}\n\nexport class ErrorBoundary extends PureComponent<Props, State> {\n  state = {\n    hasError: false,\n  }\n\n  static getDerivedStateFromError() {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorBoundaryInfo) {\n    // You can also log the error to an error reporting service...\n    console.error(error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div\n          className={classnames(styles.errorBoundary, this.props.className)}\n          data-qa=\"errorBoundary\"\n        >\n          <div className={styles.centered}>\n            <h1 className={styles.title} data-qa=\"errorBoundaryTitle\">\n              {t('We’ve had a slight malfunction')}\n            </h1>\n            <div className={styles.subTitle} data-qa=\"errorBoundarySubtitle\">\n              {t(\n                'You could give refreshing your page a shot. Or just sit tight, and we’ll figure this out.'\n              )}\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n","export const BUBBLES_FETCH_START = 'BUBBLES.FETCH.START'\nexport const BUBBLES_FETCH_SUCCESS = 'BUBBLES.FETCH.SUCCESS'\nexport const BUBBLES_FETCH_FAILURE = 'BUBBLES.FETCH.FAILURE'\nexport const SELECT_TYPE = 'SELECT.TYPE'\nexport const SELECT_BUBBLE = 'SELECT.BUBBLE'\n","import { BubbleActionType } from './_actions'\nimport {\n  BUBBLES_FETCH_START,\n  BUBBLES_FETCH_SUCCESS,\n  BUBBLES_FETCH_FAILURE,\n  SELECT_TYPE,\n  SELECT_BUBBLE,\n} from './_actionTypes'\n\nexport type State = {\n  bubbles: Bubble[]\n  selectedBubble: Bubble | null\n  selectedType: BubbleType | null\n  statusses: FetchStatusMap<'fetch'>\n}\n\nconst initialState: State = {\n  bubbles: [],\n  selectedBubble: null,\n  selectedType: null,\n  statusses: {\n    fetch: 'UNSENT' as FetchStatus,\n  },\n}\n\nexport default (state: State = initialState, action: BubbleActionType) => {\n  switch (action.type) {\n    case BUBBLES_FETCH_START:\n      return {\n        ...state,\n        statusses: {\n          ...state.statusses,\n          fetch: 'LOADING',\n        },\n      }\n\n    case BUBBLES_FETCH_SUCCESS:\n      return {\n        ...state,\n        bubbles: action.payload.elements,\n        statusses: {\n          ...state.statusses,\n          fetch: 'SUCCESS',\n        },\n      }\n\n    case BUBBLES_FETCH_FAILURE:\n      return {\n        ...state,\n        statusses: {\n          ...state.statusses,\n          fetch: 'ERROR',\n        },\n      }\n\n    case SELECT_BUBBLE:\n      return {\n        ...state,\n        selectedBubble: action.selectedBubble,\n        selectedType: action.selectedType,\n      }\n\n    case SELECT_TYPE:\n      return {\n        ...state,\n        selectedType: action.selectedType,\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport BubbleChartReducer from '../../pages/bubble-chart/_reducer'\n\nexport default combineReducers<any, any>({\n  bubbles: BubbleChartReducer,\n})\n","export const FETCH_START = 'FETCH.START'\nexport const FETCH_CANCEL = 'FETCH.CANCEL'\nexport const FETCH_SUCCESS = 'FETCH.SUCCESS'\nexport const FETCH_FAILURE = 'FETCH.FAILURE'\n","import { MiddlewareAPI, Dispatch } from 'redux'\nimport axios, { AxiosError } from 'axios'\nimport {\n  FETCH_START,\n  FETCH_CANCEL,\n  FETCH_SUCCESS,\n  FETCH_FAILURE,\n} from './fetch.types'\n\ntype RequestParams = {\n  id?: string\n  method: string\n  url: string\n  body?: Object | FormData | Blob | null\n  contentType?: string\n}\ntype StartAction = RequestParams & {\n  type: string\n}\n\nconst fromStartTo = (targetSuffix: string) => (actionType: string) => {\n  const prefix = actionType.slice(0, -FETCH_START.length)\n  return prefix + targetSuffix\n}\n\nconst asSuccessAction = fromStartTo(FETCH_SUCCESS)\nconst asFailureAction = fromStartTo(FETCH_FAILURE)\n\nexport interface RequestFacade {\n  cancelRequest(params: RequestParams): void\n  createRequest(params: RequestParams): Promise<any>\n}\n\nexport const fetchMiddleware = (facade: RequestFacade) => (\n  store: MiddlewareAPI<any, any>\n) => (next: Dispatch<StartAction>) => (action: StartAction) => {\n  if (action.type.endsWith(FETCH_CANCEL)) {\n    facade.cancelRequest(action)\n    return next(action)\n  }\n\n  if (action.type.endsWith(FETCH_START)) {\n    const promise = facade.createRequest(action)\n    next(action)\n    return promise\n      .then(({ data: payload }) => {\n        store.dispatch({\n          type: asSuccessAction(action.type),\n          payload,\n          initiator: action,\n        })\n        return payload\n      })\n      .catch((error: AxiosError) => {\n        if (!axios.isCancel(error)) {\n          store.dispatch({\n            type: asFailureAction(action.type),\n            payload: error.response ? error.response.data : null,\n            error,\n            initiator: action,\n            request: error.request,\n          })\n        }\n        // Propagate error to consumers so that they don't assume code was successful.\n        throw error\n      })\n  }\n\n  return next(action)\n}\n","import * as types from './_actionTypes'\n\nexport type BubbleActionType =\n  | FetchStartAction\n  | FetchSuccessAction\n  | FetchFailureAction\n  | SelectBubbleAction\n  | SelectTypeAction\n\nexport type FetchStartAction = {\n  type: typeof types.BUBBLES_FETCH_START\n  method: 'GET'\n  url: '/api/bubbles'\n}\nexport type FetchSuccessAction = {\n  type: typeof types.BUBBLES_FETCH_SUCCESS\n  initiator: FetchStartAction\n  payload: BubblesPayload\n}\nexport type FetchFailureAction = {\n  type: typeof types.BUBBLES_FETCH_FAILURE\n  initiator: FetchStartAction\n}\n\nexport type SelectTypeAction = {\n  type: typeof types.SELECT_TYPE\n  selectedType: BubbleType | null\n}\n\nexport type SelectBubbleAction = {\n  type: typeof types.SELECT_BUBBLE\n  selectedBubble: Bubble | null\n  selectedType: BubbleType | null\n}\n\nexport const fetch = (): FetchStartAction => ({\n  type: types.BUBBLES_FETCH_START,\n  method: 'GET',\n  url: '/api/bubbles',\n})\n\nexport const selectBubble = (\n  selectedType: BubbleType | null,\n  selectedBubble: Bubble | null\n): SelectBubbleAction => ({\n  type: types.SELECT_BUBBLE,\n  selectedBubble,\n  selectedType,\n})\n\nexport const selectType = (\n  selectedType: BubbleType | null\n): SelectTypeAction => ({\n  type: types.SELECT_TYPE,\n  selectedType,\n})\n","type RequestKey = {\n  id?: string\n  method: string\n  url: string\n}\n\ntype PendingRequest = {\n  promise: Promise<any>\n  cancel: () => any\n}\n\nconst requests: Map<string, PendingRequest> = new Map()\n\nexport function generateRequestId(key: RequestKey) {\n  if (key.id) {\n    return key.id\n  }\n  const baseId = `${key.method} ${key.url}`\n  return key.method === 'POST'\n    ? `${baseId} ${Math.random()\n        .toString(36)\n        .slice(2)}`\n    : baseId\n}\n\nexport function getRequest(key: RequestKey): PendingRequest | undefined {\n  const id = generateRequestId(key)\n  return requests.get(id)\n}\n\nexport function addRequest(key: RequestKey, value: PendingRequest) {\n  const id = generateRequestId(key)\n  requests.set(id, value)\n}\n\nexport function deleteRequest(key: RequestKey) {\n  const id = generateRequestId(key)\n  requests.delete(id)\n}\n\nexport function clearCache() {\n  requests.clear()\n}\n","const camel = (key: string) =>\n  key.replace(/_[a-z]/g, (_: string) => _[1].toUpperCase())\nconst snake = (key: string) =>\n  key.replace(/[A-Z]/g, (alpha: string) => `_${alpha.toLowerCase()}`)\nconst ISO_DATE_ONLY = /^\\d{4}-\\d{2}-\\d{2}$/\nconst ISO_DATE = /^\\d{4,}-\\d{2}-\\d{2}T\\d{2}((:\\d{2})?:\\d{2}(\\.\\d+)?([-+]\\d{2}:\\d{2})?Z?)?$/\nconst IS_CAPS = /^[A-Z_.]+$/\n\nexport const replacer: any = (key: string, value: any) => {\n  if (value === null) {\n    return value\n  }\n  if (typeof value === 'object' && !Array.isArray(value)) {\n    return Object.keys(value).reduce((object: any, key) => {\n      const newKey = IS_CAPS.test(key) ? key : snake(key)\n      // eslint-disable-next-line immutable/no-mutation\n      object[newKey] = value[key]\n      return object\n    }, {})\n  }\n  return value\n}\n\nexport const reviver: any = (key: any, value: any) => {\n  if (value === null) {\n    return value\n  }\n  if (typeof value === 'string' && ISO_DATE_ONLY.test(value)) {\n    const [year, month, day] = value.split(/-/).map(Number)\n    return new Date(year, month - 1, day)\n  } else if (typeof value === 'string' && ISO_DATE.test(value)) {\n    return new Date(value)\n  } else if (typeof value === 'object' && !Array.isArray(value)) {\n    return Object.keys(value).reduce((object: any, key) => {\n      const newKey = IS_CAPS.test(key) ? key : camel(key)\n      // eslint-disable-next-line immutable/no-mutation\n      object[newKey] = value[key]\n      return object\n    }, {})\n  }\n  return value\n}\n","import { AxiosError } from 'axios'\nimport { replacer, reviver } from '../../utils/json-tools'\n\ntype Headers = { [headerName: string]: any }\ntype RequestBody = Object | FormData | Blob | null\n\nexport function addContentTypeHeader(params: {\n  body?: RequestBody\n  contentType?: string | null\n}): Headers {\n  if (params.body) {\n    if ('contentType' in params) {\n      if (params.contentType) {\n        return { 'Content-Type': params.contentType }\n      }\n    } else {\n      return { 'Content-Type': 'application/json' }\n    }\n  }\n  return {}\n}\n\nexport const createResponseTransformer = () => (\n  data: string,\n  headers: Headers\n) => {\n  const contentType = headers['content-type'] || 'application/json'\n  if (contentType.startsWith('application/json')) {\n    return data ? JSON.parse(data, reviver) : null\n  }\n  return data\n}\n\nexport function handleRequestErrors(error: AxiosError) {\n  const responseStatus = error.response ? error.response.status : null\n  switch (responseStatus) {\n    case 400:\n      throw new Error('Bad Request')\n    case 401:\n      throw new Error('User is Unauthorized')\n    default:\n      throw new Error('Network request failed')\n  }\n}\n\nexport function requestTransformer(data: RequestBody = null) {\n  return data && !(data instanceof FormData || data instanceof Blob)\n    ? JSON.parse(JSON.stringify(data, replacer))\n    : data\n}\n","import axios, { AxiosError, AxiosInstance, AxiosTransformer } from 'axios'\nimport { RequestParams } from './index'\nimport {\n  addContentTypeHeader,\n  createResponseTransformer,\n  handleRequestErrors,\n  requestTransformer,\n} from './util'\n\nfunction defaultTransformers(\n  transformers: AxiosTransformer[] | AxiosTransformer | undefined\n): AxiosTransformer[] {\n  if (!transformers) {\n    return []\n  } else if (transformers instanceof Array) {\n    return transformers\n  } else {\n    return [transformers]\n  }\n}\n\nlet axiosInstance: AxiosInstance\n\nexport function initialize(newInstance: AxiosInstance = axios.create()) {\n  // eslint-disable-next-line immutable/no-mutation\n  newInstance.defaults.transformRequest = [\n    requestTransformer,\n    ...defaultTransformers(axios.defaults.transformRequest),\n  ]\n  newInstance.interceptors.response.use(undefined, (error: AxiosError) =>\n    handleRequestErrors(error)\n  )\n  axiosInstance = newInstance\n}\n\nexport function createRequest({\n  method,\n  url,\n  body,\n  contentType,\n  ...requestConfig\n}: RequestParams): {\n  promise: Promise<any>\n  cancel: () => any\n} {\n  const headers = {\n    ...addContentTypeHeader({ body, contentType }),\n  }\n  const source = axios.CancelToken.source()\n  const promise = axiosInstance.request({\n    method,\n    url,\n    data: body,\n    cancelToken: source.token,\n    headers,\n    transformResponse: createResponseTransformer(),\n    ...requestConfig,\n  })\n\n  promise.catch(console.error)\n\n  return {\n    promise,\n    cancel() {\n      source.cancel()\n    },\n  }\n}\n\ninitialize()\n","import axios, { AxiosRequestConfig } from 'axios'\nimport { addRequest, deleteRequest, getRequest } from './fetch-cache'\nimport { createRequest as createFetchRequest } from './fetch-factory'\n\n// We are opening this up to allow any valid axios request config field.\n// The primary motivation is to give testers the ability to set or\n// override specific fields that might be necessary for the test env.\nexport type RequestParams = {\n  id?: string\n  method: string\n  url: string\n  body?: Object | FormData | Blob | null\n  contentType?: string\n  suppressCancelErrors?: boolean\n} & AxiosRequestConfig\n\nfunction createRequest({\n  suppressCancelErrors = true,\n  ...requestParams\n}: RequestParams): Promise<any> {\n  // Handle pending requests\n  const request = getRequest(requestParams)\n  if (request) {\n    // If a GET, then just re-use the current request.\n    if (requestParams.method === 'GET') {\n      return request.promise\n    }\n    request.cancel()\n  }\n  const newRequest = createFetchRequest(requestParams)\n  addRequest(requestParams, newRequest)\n\n  return newRequest.promise.then(\n    result => {\n      deleteRequest(requestParams)\n      return result\n    },\n    error => {\n      deleteRequest(requestParams)\n      if (!axios.isCancel(error) || !suppressCancelErrors) {\n        throw error\n      }\n    }\n  )\n}\n\nfunction cancelRequest(requestParams: RequestParams) {\n  const request = getRequest(requestParams)\n  if (request) {\n    request.cancel()\n    deleteRequest(requestParams)\n  }\n}\n\nexport const fetchApi = {\n  createRequest,\n  cancelRequest,\n}\n","import { createStore, bindActionCreators, applyMiddleware, Store } from 'redux'\nimport rootReducer from './redux/reducers'\nimport { fetchMiddleware } from './redux/middlewares/fetch'\nimport * as todosActions from './pages/bubble-chart/_actions'\nimport { fetchApi } from './utils/fetch'\n\nconst bindActions = (store: Store<any, any>) => ({\n  bubbles: bindActionCreators(todosActions, store.dispatch),\n})\n\nexport default function create() {\n  const store = createStore<AppState, any, any, any>(\n    rootReducer,\n    undefined,\n    applyMiddleware(fetchMiddleware(fetchApi))\n  )\n\n  const actions = bindActions(store)\n  return { actions, store }\n}\n","import t, { SetupOptions } from 'format-message'\n\nconst formatConfig: SetupOptions = {\n  missingTranslation: 'ignore',\n  formats: {\n    date: {\n      dd: { day: '2-digit' },\n      MMM: { month: 'short' },\n      MMMM: { month: 'long' },\n      'MMM d': { month: 'short', day: 'numeric' },\n      'MMM d yyyy': { month: 'short', day: 'numeric', year: 'numeric' },\n      'MMMM d': { month: 'long', day: 'numeric' },\n      'MMMM yy': { month: 'long', year: '2-digit' },\n      'MMM yyyy': { month: 'short', year: 'numeric' },\n      'MMMM yyyy': { month: 'long', year: 'numeric' },\n      'M/d/yyyy': { day: 'numeric', month: 'numeric', year: 'numeric' },\n      'MM/dd/yyyy': { day: '2-digit', month: '2-digit', year: 'numeric' },\n      'dd MMM yyyy': { day: '2-digit', month: 'short', year: 'numeric' },\n      'd MMMM yyyy': { day: 'numeric', month: 'long', year: 'numeric' },\n      yyyy: { year: 'numeric' },\n      EEEE: { weekday: 'long' },\n      'EEEE, MMM d': { weekday: 'long', month: 'short', day: 'numeric' },\n      'E M/d': { weekday: 'short', month: 'numeric', day: 'numeric' },\n      'EEEE MMMM d, yyyy': {\n        day: 'numeric',\n        weekday: 'long',\n        month: 'long',\n        year: 'numeric',\n      },\n    },\n    time: {\n      H: { hour: 'numeric' },\n      'H:mm': { hour: 'numeric', minute: '2-digit' },\n    },\n  },\n}\n\nexport const initFormatMessage = () => t.setup(formatConfig)\n","import cubicBezier from 'bezier-easing'\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/single-transition-timing-function#ease\nexport const ease = cubicBezier(0.25, 0.1, 0.25, 1)\nexport const easeIn = cubicBezier(0.42, 0, 1, 1)\nexport const easeInOut = cubicBezier(0.42, 0, 0.58, 1)\nexport const easeOut = cubicBezier(0, 0, 0.58, 1)\n\n// Should exactly match --curve-spring from variables.css\nexport const spring = cubicBezier(0.5, 3, 0.5, 0.3)\n\n// linear interpolation, for finding point along curve\nexport const interpolate = (t: number, from: number, to: number) =>\n  from + (to - from) * t\n","const MIN_RADIUS = 10\n\nexport type BubbleNodeType = {\n  bubbleId: string\n  initialRadius: number\n  mastery: BubbleType\n  name: String\n  r: number\n  skillId: number\n  x: number\n  y: number\n}\n\nexport function generateNodes({\n  bubbles,\n  scale,\n  height,\n  width,\n  centerY,\n}: {\n  bubbles: Bubble[]\n  scale: number\n  height: number\n  width: number\n  centerY: number\n}): BubbleNodeType[] {\n  const nodes: BubbleNodeType[] = []\n\n  for (const bubble of bubbles) {\n    const {\n      id,\n      count: { low, medium, high },\n      title: name,\n    } = bubble\n\n    const highR = Math.max(high * scale, MIN_RADIUS)\n    const mediumR = Math.max(medium * scale, MIN_RADIUS)\n    const lowR = Math.max(low * scale, MIN_RADIUS)\n\n    high > 0 &&\n      nodes.push({\n        bubbleId: `bubble${id}high`,\n        initialRadius: highR,\n        mastery: 'high',\n        name,\n        r: highR,\n        skillId: id,\n        x: Math.random() * width,\n        y: 0,\n      })\n    medium > 0 &&\n      nodes.push({\n        bubbleId: `bubble${id}medium`,\n        initialRadius: mediumR,\n        mastery: 'medium',\n        name,\n        r: mediumR,\n        skillId: id,\n        x: Math.random() * width,\n        y: centerY,\n      })\n    low > 0 &&\n      nodes.push({\n        bubbleId: `bubble${id}low`,\n        initialRadius: lowR,\n        mastery: 'low',\n        name,\n        r: lowR,\n        skillId: id,\n        x: Math.random() * width,\n        y: height,\n      })\n  }\n\n  return nodes\n}\n","import t from 'format-message'\nimport { BubbleNodeType } from './nodes'\nimport { event, Selection } from 'd3-selection'\nimport { Simulation } from 'd3-force'\nimport styles from './bubble-drawer.css'\n\ntype Props = {\n  svg: Selection<SVGElement, BubbleNodeType, null, undefined> | null\n  onBubbleClick?: (BubbleType, number) => unknown\n  onBubbleFocus?: (id?: number | null, type?: BubbleType) => unknown\n  onBubbleHover?: (id?: number | null, type?: BubbleType) => unknown\n  onTabPressed?: (event: KeyboardEvent) => unknown\n}\n\nconst bubbleClassByType = {\n  high: styles.highBubble,\n  medium: styles.mediumBubble,\n  low: styles.lowBubble,\n}\n\nexport default class BubbleDrawer {\n  props: Props\n  bubbles: Selection<\n    SVGCircleElement,\n    BubbleNodeType,\n    SVGElement,\n    BubbleNodeType\n  > | null = null\n\n  constructor(props: Props) {\n    this.props = props // eslint-disable-line immutable/no-mutation\n  }\n\n  draw(simulation: Simulation<BubbleNodeType, undefined>): BubbleDrawer {\n    const { svg } = this.props\n    if (!svg) return this\n\n    this.bubbles = svg // eslint-disable-line immutable/no-mutation\n      .selectAll('circle')\n      .data(simulation.nodes())\n\n      .enter()\n      .append('circle')\n      .attr('r', d => d.r)\n      .attr('class', d => bubbleClassByType[d.mastery])\n      .attr('role', 'button')\n      .attr('tabindex', 0)\n      .attr('id', d => d.bubbleId)\n      .attr('aria-label', d => t('Select {bubbleName}', { bubbleName: d.name }))\n\n      .on('mouseover', this.handleMouseOver)\n      .on('focus', this.handleFocus)\n      .on('click', this.handleClick)\n      .on('keydown', this.handleKeyPress)\n\n    this.bubbles && this.bubbles.exit().remove()\n\n    simulation.on('tick', this.handleTick)\n    return this\n  }\n\n  handleTick = (): void => {\n    this.bubbles &&\n      this.bubbles\n        .attr('cx', (d: BubbleNodeType) => d.x)\n        .attr('cy', (d: BubbleNodeType) => d.y)\n        .attr('r', (d: BubbleNodeType) => d.r)\n  }\n\n  handleClick = (d: BubbleNodeType): void => {\n    const { onBubbleClick } = this.props\n    onBubbleClick && onBubbleClick(d.mastery, d.skillId)\n  }\n\n  handleMouseOver = ({\n    skillId,\n    type,\n  }: {\n    skillId: number\n    type: BubbleType\n  }): void => {\n    const { onBubbleHover, svg } = this.props\n    onBubbleHover && onBubbleHover(skillId, type)\n\n    svg &&\n      svg\n        .selectAll<SVGCircleElement, BubbleNodeType>('circle')\n        .attr('opacity', d => (skillId === d.skillId ? 1 : 0.5))\n  }\n\n  handleMouseLeave = (): void => {\n    const { onBubbleHover, svg } = this.props\n    onBubbleHover && onBubbleHover(null)\n\n    svg && svg.selectAll('circle').attr('opacity', 1)\n  }\n\n  handleFocus = ({\n    skillId,\n    type,\n  }: {\n    skillId: number\n    type: BubbleType\n  }): void => {\n    const { onBubbleFocus } = this.props\n    onBubbleFocus && onBubbleFocus(skillId, type)\n  }\n\n  handleKeyPress = (d: BubbleNodeType): void => {\n    if (!(event instanceof KeyboardEvent)) return\n    switch (event.key) {\n      case 'Enter':\n      case ' ':\n        this.handleClick(d)\n        event.preventDefault()\n        break\n      case 'Tab':\n        if (!event.shiftKey) {\n          const { onTabPressed } = this.props\n          onTabPressed && onTabPressed(event)\n        }\n        break\n    }\n  }\n\n  public focus = (skillId: string, type: BubbleType): BubbleDrawer => {\n    const { svg } = this.props\n    const node =\n      svg && svg.select<SVGCircleElement>(`#bubble${skillId}${type}`).node()\n    let nextBubble = node && node.nextElementSibling\n    while (nextBubble && nextBubble.getAttribute('tabindex') !== '0') {\n      nextBubble = nextBubble.nextElementSibling\n    }\n    nextBubble &&\n      nextBubble instanceof SVGElement &&\n      nextBubble.focus &&\n      nextBubble.focus()\n    return this\n  }\n\n  setTabbableBubbles = (type: BubbleType | null): BubbleDrawer => {\n    const { svg } = this.props\n    svg &&\n      svg\n        .selectAll<SVGCircleElement, BubbleNodeType>('circle')\n        .attr('tabindex', d => (!type || type === d.mastery ? 0 : -1))\n    return this\n  }\n\n  highlightType = (type?: BubbleType | null) => {\n    const { svg } = this.props\n    if (!svg) return this\n    const count = {\n      high: 0,\n      medium: 0,\n      low: 0,\n    }\n    const bubbles = svg.selectAll<SVGCircleElement, BubbleNodeType>('circle')\n    bubbles.each(d => {\n      count[d.mastery] += d.initialRadius // eslint-disable-line immutable/no-mutation\n    })\n    const alpha = type\n      ? (count.high + count.medium + count.low) / count[type] / 2\n      : 1\n    bubbles.each(d => {\n      // eslint-disable-next-line immutable/no-mutation\n      d.r = d.initialRadius * Math.min(d.mastery === type ? alpha : 1, 5)\n    })\n    return this\n  }\n\n  public remove = (): BubbleDrawer => {\n    const { svg } = this.props\n    svg && svg.selectAll('circle').remove()\n    return this\n  }\n}\n","import React, { PureComponent, HTMLAttributes } from 'react'\nimport {\n  forceCenter,\n  forceCollide,\n  forceManyBody,\n  forceSimulation,\n  forceX,\n  forceY,\n  Simulation,\n} from 'd3-force'\nimport { select, Selection } from 'd3-selection'\nimport { interpolate } from '../../../utils/timing-functions'\nimport { generateNodes, BubbleNodeType } from './nodes'\nimport BubbleDrawer from './bubble-drawer'\nimport styles from './index.css'\n\ntype Props = HTMLAttributes<HTMLDivElement> & {\n  height: number\n  type: BubbleType | null\n  onBubbleClick?: (BubbleType, number) => unknown\n  onBubbleFocus?: (id?: number | null, type?: BubbleType) => unknown\n  onBubbleHover?: (id?: number | null, type?: BubbleType) => unknown\n  scale: number\n  selectedId?: number\n  bubbles: Bubble[]\n  tooltipForBubbleId?: number | null\n  tooltipForType?: BubbleType | null\n  width: number\n}\n\nexport class BouncingBubbleChart extends PureComponent<Props> {\n  svg: Selection<SVGElement, BubbleNodeType, null, undefined> | null\n  setSVGRef = (svg: SVGElement | null) => {\n    this.svg = svg ? select(svg) : null // eslint-disable-line immutable/no-mutation\n  }\n\n  simulation: Simulation<BubbleNodeType, undefined> | null\n  bubbleDrawer: BubbleDrawer | null\n  center: {\n    x: number\n    y: number\n  } = {\n    x: 500,\n    y: 300,\n  }\n\n  componentDidMount() {\n    const { width, height } = this.props\n    this.svg && this.svg.append('g')\n    this.center.x = width / 2 // eslint-disable-line immutable/no-mutation\n    this.center.y = height / 2 // eslint-disable-line immutable/no-mutation\n\n    this.renderSimulation()\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { type } = this.props\n    if (prevProps.bubbles !== this.props.bubbles) {\n      this.renderSimulation()\n    } else {\n      if (prevProps.type !== type) {\n        if (type) {\n          this.joinBubblesByType()\n        } else {\n          this.joinBubbles()\n        }\n        this.bubbleDrawer && this.bubbleDrawer.setTabbableBubbles(type)\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.simulation && this.simulation.stop()\n    this.bubbleDrawer && this.bubbleDrawer.remove()\n  }\n\n  renderSimulation = () => {\n    const {\n      bubbles,\n      scale,\n      height,\n      width,\n      onBubbleClick,\n      onBubbleHover,\n      onBubbleFocus,\n      type,\n    } = this.props\n\n    // eslint-disable-next-line immutable/no-mutation\n    const nodes = generateNodes({\n      bubbles,\n      scale,\n      height,\n      width,\n      centerY: this.center.y,\n    })\n    if (!nodes.length) return\n\n    // eslint-disable-next-line immutable/no-mutation\n    this.simulation = forceSimulation(nodes)\n\n    // eslint-disable-next-line immutable/no-mutation\n    this.bubbleDrawer = new BubbleDrawer({\n      svg: this.svg,\n      onBubbleClick,\n      onBubbleHover,\n      onBubbleFocus,\n    })\n    this.bubbleDrawer.draw(this.simulation)\n\n    if (type) {\n      this.joinBubblesByType()\n    } else {\n      this.joinBubbles()\n    }\n  }\n\n  defaultCharge = (d: BubbleNodeType): number => -0.07 * Math.pow(d.r, 2.0)\n  weakCharge = (d: BubbleNodeType): number => -0.078 * Math.pow(d.r, 2.0)\n\n  getMasteryGroups = (): Record<BubbleType, number> => {\n    const { type, width } = this.props\n    const target = width / 2\n    const outsidePosX: Record<BubbleType, number> = {\n      high: width + this.center.x,\n      medium: type === 'high' ? -this.center.x : width + this.center.x,\n      low: -this.center.x,\n    }\n\n    return {\n      high: type === 'high' ? target : outsidePosX.high,\n      medium: type === 'medium' ? target : outsidePosX.medium,\n      low: type === 'low' ? target : outsidePosX.low,\n    }\n  }\n\n  joinBubbles = () => {\n    const { scale, width, height } = this.props\n    const forceStrength = 0.04\n    const targetY = {\n      high: this.center.y - interpolate(scale / 20, 15, 50),\n      medium: this.center.y,\n      low: this.center.y + interpolate(scale / 20, 15, 50),\n    }\n\n    this.bubbleDrawer && this.bubbleDrawer.highlightType()\n\n    this.simulation &&\n      this.simulation\n        .alpha(0.85)\n        .alphaDecay(0.00358)\n        .alphaTarget(0)\n        .alphaMin(0.15)\n        .velocityDecay(0.11)\n        .force('collide', null)\n        .force('center', forceCenter(width / 2, height / 2))\n        .force(\n          'charge',\n          forceManyBody<BubbleNodeType>().strength(this.defaultCharge)\n        )\n        .force(\n          'x',\n          forceX()\n            .strength(forceStrength)\n            .x(this.center.x)\n        )\n        .force(\n          'y',\n          forceY<BubbleNodeType>()\n            .strength(forceStrength + 0.002)\n            .y(d => targetY[d.mastery])\n        )\n        .restart()\n  }\n\n  joinBubblesByType = () => {\n    if (!this.simulation) return\n    const { type } = this.props\n    const forceStrength = 0.04\n    const groups = this.getMasteryGroups()\n    const offset = 20\n\n    this.bubbleDrawer && this.bubbleDrawer.highlightType(type)\n\n    this.simulation &&\n      this.simulation\n        .alpha(1)\n        .alphaDecay(0.025)\n        .alphaTarget(0)\n        .alphaMin(0)\n        .velocityDecay(0.13)\n\n        .force(\n          'x',\n          forceX<BubbleNodeType>()\n            .strength(forceStrength)\n            .x(d => groups[d.mastery] + offset)\n        )\n        .force(\n          'y',\n          forceY()\n            .strength(forceStrength + 0.002)\n            .y(this.center.y)\n        )\n        .force('collide', null)\n        .force('center', null)\n        .force(\n          'charge',\n          forceManyBody<BubbleNodeType>().strength(this.weakCharge)\n        )\n        .restart()\n  }\n\n  splitBubbles = () => {\n    const { width } = this.props\n    const groupsTarget = {\n      high: width * 0.8,\n      medium: this.center.x,\n      low: width * 0.2,\n    }\n    const forceStrength = 0.04\n    const offset = 100\n\n    this.bubbleDrawer && this.bubbleDrawer.highlightType()\n\n    this.simulation &&\n      this.simulation\n        .alpha(1)\n        .alphaDecay(0.0228)\n        .alphaTarget(0)\n        .alphaMin(0)\n        .velocityDecay(0.1)\n\n        .force(\n          'x',\n          forceX<BubbleNodeType>()\n            .strength(forceStrength)\n            .x(d => groupsTarget[d.mastery])\n        )\n        .force(\n          'y',\n          forceY()\n            .strength(forceStrength)\n            .y(this.center.y - offset)\n        )\n        .force(\n          'collide',\n          forceCollide<BubbleNodeType>().radius(d => d.r + 3)\n        )\n        .force('charge', null)\n        .force('center', null)\n        .restart()\n  }\n\n  handleMouseLeave = () => {\n    this.bubbleDrawer && this.bubbleDrawer.handleMouseLeave()\n  }\n\n  handleTooltipBlur = () => {\n    const { tooltipForBubbleId, tooltipForType } = this.props\n    tooltipForBubbleId &&\n      tooltipForType &&\n      this.bubbleDrawer &&\n      this.bubbleDrawer.focus(tooltipForBubbleId.toString(), tooltipForType)\n  }\n\n  render() {\n    const {\n      height,\n      type,\n      onBubbleClick,\n      onBubbleFocus,\n      onBubbleHover,\n      scale,\n      selectedId,\n      bubbles,\n      tooltipForBubbleId,\n      tooltipForType,\n      width,\n      ...props\n    } = this.props\n\n    return (\n      <div\n        aria-controls=\"bubbleChartTabPanel\"\n        onClick={this.handleMouseLeave}\n        onMouseLeave={this.handleMouseLeave}\n        tabIndex={-1}\n        {...props}\n      >\n        <svg\n          className={styles.chart}\n          focusable=\"false\"\n          height={height}\n          ref={this.setSVGRef}\n          viewBox={`0 0 ${width} ${height}`}\n          width=\"100%\"\n        />\n      </div>\n    )\n  }\n}\n","import t from 'format-message'\nimport React, { PureComponent } from 'react'\nimport Button from '@material-ui/core/Button'\nimport styles from './index.css'\n\ntype Props = {\n  activeTab: BubbleType | null\n  onChange: (type: BubbleType | null) => any\n}\n\nexport class BubbleChartTabs extends PureComponent<Props> {\n  handleSelectAll = () => this.props.onChange(null)\n  handleSelectLow = () => this.props.onChange('low')\n  handleSelectMedium = () => this.props.onChange('medium')\n  handleSelectHigh = () => this.props.onChange('high')\n\n  render() {\n    const { activeTab } = this.props\n    return (\n      <div className={styles.tabs} role=\"tablist\" data-qa=\"tabs\">\n        <ul className={styles.list}>\n          <li>\n            <Button\n              aria-controls=\"bubbleChartTabPanel\"\n              aria-selected={activeTab === null}\n              color={activeTab === null ? 'secondary' : 'primary'}\n              role=\"tab\"\n              className={styles.tab}\n              onClick={this.handleSelectAll}\n              data-qa=\"allTab\"\n            >\n              {t('All')}\n            </Button>\n          </li>\n\n          <li>\n            <Button\n              aria-controls=\"bubbleChartTabPanel\"\n              aria-selected={activeTab === 'low'}\n              color={activeTab === 'low' ? 'secondary' : 'primary'}\n              role=\"tab\"\n              className={styles.tab}\n              onClick={this.handleSelectLow}\n              data-qa=\"lowTab\"\n            >\n              {t('Low')}\n            </Button>\n          </li>\n\n          <li>\n            <Button\n              aria-controls=\"bubbleChartTabPanel\"\n              aria-selected={activeTab === 'medium'}\n              color={activeTab === 'medium' ? 'secondary' : 'primary'}\n              role=\"tab\"\n              className={styles.tab}\n              onClick={this.handleSelectMedium}\n              data-qa=\"mediumTab\"\n            >\n              {t('Medium')}\n            </Button>\n          </li>\n\n          <li>\n            <Button\n              aria-controls=\"bubbleChartTabPanel\"\n              aria-selected={activeTab === 'high'}\n              color={activeTab === 'high' ? 'secondary' : 'primary'}\n              role=\"tab\"\n              className={styles.tab}\n              onClick={this.handleSelectHigh}\n              data-qa=\"highTab\"\n            >\n              {t('High')}\n            </Button>\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { BouncingBubbleChart } from '../bouncing-bubble-chart'\nimport OpenWithIcon from '@material-ui/icons/OpenWith'\nimport CenterFocusStrongIcon from '@material-ui/icons/CenterFocusStrong'\nimport Button from '@material-ui/core/Button'\nimport styles from './index.css'\n\ntype Props = {\n  bubbleChart: BouncingBubbleChart | null\n  onExpand?: () => void\n  onContract?: () => void\n}\n\ntype State = {\n  expandedView: boolean\n}\n\nexport class BubbleToggle extends Component<Props, State> {\n  state = {\n    expandedView: false,\n  }\n\n  handleExpandedView = () => {\n    const { bubbleChart, onExpand } = this.props\n    this.setState({ expandedView: true })\n    bubbleChart && bubbleChart.splitBubbles()\n    onExpand && onExpand()\n  }\n\n  handleCollapseView = () => {\n    const { bubbleChart, onContract } = this.props\n    this.setState({ expandedView: false })\n    bubbleChart && bubbleChart.joinBubbles()\n    onContract && onContract()\n  }\n\n  render() {\n    const { expandedView } = this.state\n    return (\n      <div className={styles.toggle} role=\"tablist\" data-qa=\"bubbleToggleView\">\n        <Button\n          aria-controls=\"bubbleChartTabPanel\"\n          aria-selected={!expandedView}\n          color={!expandedView ? 'secondary' : 'primary'}\n          onClick={this.handleCollapseView}\n          role=\"tab\"\n          data-qa=\"bubbleCollapseButton\"\n        >\n          <CenterFocusStrongIcon />\n        </Button>\n        <Button\n          aria-controls=\"bubbleChartTabPanel\"\n          aria-selected={expandedView}\n          color={!expandedView ? 'primary' : 'secondary'}\n          onClick={this.handleExpandedView}\n          role=\"tab\"\n          data-qa=\"bubbleExpandedButton\"\n        >\n          <OpenWithIcon />\n        </Button>\n      </div>\n    )\n  }\n}\n","import React, { PureComponent } from 'react'\nimport { BouncingBubbleChart } from './bouncing-bubble-chart'\nimport { BubbleChartTabs } from './tabs'\nimport { BubbleToggle } from './toggle'\nimport styles from './page.css'\n\nconst CHART_HEIGHT = 800\n\ntype Props = {\n  bubbles: Bubble[]\n  selectBubble: (type: BubbleType | null, bubble: Bubble | null) => void\n  selectedBubble: Bubble | null\n  selectedType: BubbleType | null\n  selectType: (type: BubbleType | null) => void\n}\n\ntype State = {\n  bubbleChartRef: BouncingBubbleChart | null\n  tooltipForBubbleId: number | null\n  tooltipForType: BubbleType | null\n}\n\nexport class Page extends PureComponent<Props, State> {\n  state = {\n    bubbleChartRef: null,\n    tooltipForBubbleId: null,\n    tooltipForType: null,\n  }\n\n  setBubbleChartRef = (ref: BouncingBubbleChart | null) => {\n    this.setState({ bubbleChartRef: ref })\n  }\n\n  handleSingleBubbleHover = (id?: number | null, type?: BubbleType | null) =>\n    this.setState({\n      tooltipForBubbleId: id || null,\n      tooltipForType: type || null,\n    })\n\n  handleBubbleClick = (bubbleType: BubbleType, id: number) => {\n    const { selectType, selectBubble, bubbles } = this.props\n    const bubble = bubbles.find(bubble => bubble.id === id)\n\n    selectType(bubbleType)\n    selectBubble(bubbleType, bubble || null)\n  }\n\n  handleTypeChange = (type: BubbleType | null) => {\n    const { selectType, bubbles } = this.props\n\n    selectType(type)\n\n    if (type && bubbles.length > 0) {\n      const { id } = bubbles.reduce((selectedBubble, bubble) =>\n        bubble.count[type] > selectedBubble.count[type]\n          ? bubble\n          : selectedBubble\n      )\n      this.handleBubbleClick(type, id)\n    }\n  }\n\n  getScale() {\n    const { bubbles } = this.props\n    let lowArea = 0\n    let mediumArea = 0\n    let highArea = 0\n\n    for (const {\n      count: { low, medium, high },\n    } of bubbles) {\n      lowArea += (Math.PI * low) ** 2\n      mediumArea += (Math.PI * medium) ** 2\n      highArea += (Math.PI * high) ** 2\n    }\n\n    const maxRadius = Math.sqrt(\n      Math.max(lowArea + mediumArea + highArea) / Math.PI\n    )\n\n    return CHART_HEIGHT / 2.5 / maxRadius\n  }\n\n  render() {\n    const { bubbles, selectedBubble, selectedType } = this.props\n    const { tooltipForBubbleId, tooltipForType, bubbleChartRef } = this.state\n\n    const scale = this.getScale()\n\n    return (\n      <>\n        <BubbleChartTabs\n          activeTab={selectedType}\n          onChange={this.handleTypeChange}\n        />\n\n        {!selectedType && <BubbleToggle bubbleChart={bubbleChartRef} />}\n\n        <BouncingBubbleChart\n          bubbles={bubbles}\n          className={styles.bubbleChartContainer}\n          height={CHART_HEIGHT}\n          onBubbleClick={this.handleBubbleClick}\n          onBubbleFocus={this.handleSingleBubbleHover}\n          onBubbleHover={this.handleSingleBubbleHover}\n          ref={this.setBubbleChartRef}\n          scale={scale}\n          selectedId={selectedBubble ? selectedBubble.id : undefined}\n          tooltipForBubbleId={tooltipForBubbleId}\n          tooltipForType={tooltipForType}\n          type={selectedType}\n          width={1450}\n        />\n      </>\n    )\n  }\n}\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { fetch, selectType, selectBubble } from './_actions'\nimport { Page } from './page'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst mapStateToProps = (state: AppState) => ({\n  bubbles: state.bubbles.bubbles,\n  fetchStatus: state.bubbles.statusses.fetch,\n  selectedBubble: state.bubbles.selectedBubble,\n  selectedType: state.bubbles.selectedType,\n})\n\nconst mapDispatchToProps = {\n  fetch,\n  selectBubble,\n  selectType,\n}\n\ntype Props = {\n  bubbles: Bubble[]\n  fetch: () => void\n  fetchStatus: FetchStatus\n  selectBubble: (\n    selectedType: BubbleType | null,\n    selectedBubble: Bubble | null\n  ) => void\n  selectedBubble: Bubble | null\n  selectedType: BubbleType | null\n  selectType: (selectedType: BubbleType | null) => void\n}\n\nexport class BubbleChart extends PureComponent<Props> {\n  componentDidMount() {\n    const { fetch, fetchStatus } = this.props\n    if (fetchStatus !== 'LOADING' && fetchStatus !== 'SUCCESS') {\n      fetch()\n    }\n  }\n\n  render() {\n    const {\n      bubbles,\n      selectType,\n      fetchStatus,\n      selectedBubble,\n      selectedType,\n    } = this.props\n    const isLoading = fetchStatus === 'LOADING'\n\n    return (\n      <main>\n        {isLoading ? (\n          <CircularProgress />\n        ) : (\n          <Page\n            bubbles={bubbles}\n            selectBubble={selectBubble}\n            selectedBubble={selectedBubble}\n            selectedType={selectedType}\n            selectType={selectType}\n          />\n        )}\n      </main>\n    )\n  }\n}\n\nexport const BubbleChartPage = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BubbleChart)\n","import t from 'format-message'\nimport React from 'react'\nimport { BubbleChartPage } from './pages/bubble-chart'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport styles from './app.css'\n\nexport function App() {\n  return (\n    <>\n      <CssBaseline />\n      <section className={styles.app}>\n        <header>\n          <h1 className={styles.title}>\n            {t('Awesome Animated Bubble Chart - Demo')}\n          </h1>\n        </header>\n        <BubbleChartPage />\n      </section>\n    </>\n  )\n}\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { ErrorBoundary } from './shared/error-boundary'\nimport createStore from './store'\nimport { initFormatMessage } from './format'\nimport { App } from './app'\n\nexport const initApp = () => {\n  const root = document.getElementById('root')\n  if (!root) return\n\n  const { store } = createStore()\n\n  initFormatMessage()\n\n  render(\n    <ErrorBoundary>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </ErrorBoundary>,\n    root\n  )\n}\n\ninitApp()\n"],"sourceRoot":""}